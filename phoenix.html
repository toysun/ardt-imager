<!DOCTYPE html>
<html>
  <title>Loading</title>
  <meta name="description" content="ar-demo">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
  <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v6.0.0/dist/aframe-extras.min.js"></script>
  <script src="https://raw.githack.com/jeromeetienne/AR.js/2.1.4/aframe/build/aframe-ar.js"></script>
  <!--script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></scrip-->
  <!--script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/87/three.js"></script-->
  <script>
  AFRAME.registerComponent('audiohandler', {
    init: function() {
      let playing = true;
      let audio = document.querySelector("#pnx");
      this.el.addEventListener('click', () => {
        if (!playing) {
          audio.play();
        } else {
          audio.pause();
          audio.currentTime = 0;
        }
        playing = !playing;
      });
    }
  })

</script>
<body style="margin : 0px; overflow: hidden;">
  <a-scene vr-mode-ui="enabled: false;" embedded arjs cursor="rayOrigin:mouse"  loading-screen="dotsColor: white; backgroundColor: lightblue debugUIEnabled: false;">
    <a-assets>
      <audio id="pnx" crossorigin="anonymous" src="./scene.mp3" autoplay="true"></audio>
    </a-assets>
    <!-- define your gltf asset -->
        <!--a-assets>
            <!--audio id="sound" src="./sound/scene.mp3" preload="auto"></audio>
        </a-assets-->
   <!--a-entity sound="src: #sound" autoplay="false"></a-entity-->
   <!--a-sound src="./sound/scene.mp3" autoplay="true" position="0 2 5"></a-sound-->
   <!--a-marker preset='hiro'>
     <a-entity scale=".1 .1 .1"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01a_baseColor.png" position="0 0 0"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01a_emissive.png" position="0 0 0"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01b_baseColor.png" position="0 0 0"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01b_emissive.png" position="0 0 0"></a-entity>
      <a-entity id="scene" scale="0.005 0.005 0.005" position="0 0 0" gltf-model="./img/scene.gltf";" animation-mixer></a-entity>
   </a-marker-->
           <a-entity scale=".1 .1 .1"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01a_baseColor.png" position="0 0 0"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01a_emissive.png" position="0 0 0"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01b_baseColor.png" position="0 0 0"></a-entity>
      <a-entity scr="https://github.com/toysun/sg/tree/master/textures/MatI_Ride_FengHuang_01b_emissive.png" position="0 0 0"></a-entity>
      <a-entity id="scene" scale="0.005 0.005 0.005" position="-0.8 -0.9 -7" sound="on: click; src: ./scene.mp3;" autoplay: false;" gltf-model="./img/scene.gltf"; animation-mixer></a-entity>
     <a-sphere position="1 0.95 -4" 
      radius="0.715"
      animation ="
      property: rotation;
      from:0 0 0;
      to:0 360 0;
      loop:-1;
      delay="0" 
      dur="9600"
      easing:linear;"="1.25" src="https://cdn.glitch.com/8efcbc5c-a2bc-4c05-b3a0-fb0178a31b94%2Fearth.jpg?v=1580307122171" shadow 
      audiohandler></a-sphere>
       <!--a-entity camera></a-entity-->
    <!--a-camera id="camera" position="0 0 0"
      raycaster="objects: .cantap"
      cursor="fuse:false; rayOrigin:mouse;">
    </a-camera-->
    <a-light type="ambient" intensity="1.3"></a-light>
    <a-light type="directional" intensity="3" position="1.5 4.5 1.6"></a-light>
    <a-entity movement-controls="fly: true">
    <a-entity camera position="0 1.6 0" look-controls></a-entity>
    </a-entity>
  </a-scene>
  <!--script>
    AFRAME.registerComponent('soundhandler', {
    tick: function () {
           var entity = document.querySelector('[sound]');
         if (document.querySelector('a-marker').gltf3D.visible == true) {
            entity.components.sound.playSound();
        } else {
            entity.components.sound.pauseSound();
        }

     }
});
</script-->
</body>
</html>