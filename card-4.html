<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="user-sclable=no, initial-scale=1, maximum-scale=1, minimum-scale-1, width=device-width"
    />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="google" value="notranslate" />
    <!-- A-Frame 0.7.1 -->
    <!-- <script src="//aframe.io/releases/0.7.1/aframe.min.js"></script> -->

    <!-- A-Frame 0.8.* -->
    <script src="//aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jade/1.11.0/jade.min.js">-->
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <!--script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v3.8.6/dist/aframe-extras.min.js"></script-->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>
    <script src="https://unpkg.com/aframe-physics-system@1.4.0/dist/aframe-physics-system.min.js"></script> 
    <!--script src="https://cdn.rawgit.com/tizzle/aframe-orbit-controls-component/master/dist/aframe-orbit-controls-component.min.js"></script-->
    <script src="/aframe-troika-text.js"></script>
    <script src="shadow.js"></script>
    <!--script src="https://unpkg.com/video.js/dist/video.js"></script>
<script src="//cdn.dashjs.org/latest/dash.all.debug.js"></script>
<script src="https://unpkg.com/videojs-contrib-dash/dist/videojs-dash.js"></script>    
    <script>
    var WIDTH = 480
var HEIGHT = 270
var vidEl = document.querySelector("#example-video_html5_api")
var vidProxy = document.querySelector("#video-proxy")



function step(timestamp) {
   vidProxy.getContext('2d').drawImage(vidEl, 0, 0, WIDTH, HEIGHT)
    window.requestAnimationFrame(step);
}

window.requestAnimationFrame(step);

    </script-->
    <link rel="stylesheet" href="style-disney.css" />
    <!--link href="https://unpkg.com/video.js/dist/video-js.css" rel="stylesheet"-->

    <!-- A-Frame Master -->
    <!-- <script src="https://rawgit.com/aframevr/aframe/master/dist/aframe-master.min.js"></script> -->

    <!-- A-Frame Extras -->
    <!-- <script src="//unpkg.com/aframe-extras@4.1.2/dist/aframe-extras.min.js"></script> -->

    <!-- A-Frame Physics -->
    <!-- <script src="//unpkg.com/aframe-physics-system@3.2.0/dist/aframe-physics-system.min.js"></script> -->

    <!-- A-Frame Animation -->
    <!-- <script src="//unpkg.com/aframe-animation-component@5.1.0/dist/aframe-animation-component.min.js"></script> -->

    <!-- A-Frame Environment -->
    <!-- <script src="//unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script> -->

    <!-- A-Frame State -->
    <!-- <script src="//unpkg.com/aframe-state-component@4.7.0/dist/aframe-state-component.min.js"></script> -->

    <!-- Nav Mesh Inspector Plugin -->
    <!-- Add inspector-plugin-recast component to a-scene -->
    <!-- <script src="https://recast-api.donmccurdy.com/aframe-inspector-plugin-recast.js"></script> -->
    <!--style>
    .video-container {
    position: absolute;
    z-index: 1;
    top: 0;
    left: 0;
    border: solid 1px red;
}

.canvas-container {
    position: absolute;
    z-index: 1;
    top: 0;
    right: 0;
    border: solid 1px black;  
}
    </style-->
  </head>
  <body style="margin: 0px; overflow: hidden">
    
    <!--div class="video-container">
  <div>example-video</div>
  <video-js id="example-video" muted width="480" height="270" class="vjs-default-skin" controls>
    <source
       src="https://s3.amazonaws.com/_bc_dml/example-content/sintel_dash/sintel_vod.mpd"
       type="application/dash+xml">
  </video-js-->
    <!-- SCENE -->
    <a-scene
      device-orientation-permission-ui="enabled: false"
      loading-screen="dotsColor: red; backgroundColor: black"
      ar-session-notifier
      cursor-modifier
      vr-mode-ui="enabled: false;"
      playvideo
      renderer="physicallyCorrectLights:true; colorManagement:true; exposure:1; toneMapping:ACESFilmic; antialias: true; logarithmicDepthBuffer: true; colorManagement: true; sortObjects: true;"
      embedded
      arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
      id="scene"
      light="defaultLightsEnabled: true"
    >
      <!-- ASSETS -->
            <a-assets>
        <img
          id="asset_btn_play"
          src="./image/play-button-white-hollow.png"
        />

        <video
          src="./assets/stand.mp4"
          type="video/mp4"
          preload="auto"
          id="vid"
          response-type="arraybuffer"
          
          crossorigin="anonymous"
          webkit-playsinline
          autoplay="none"
          playsinline
          style="display: none"
        ></video>
      </a-assets>

      <!-- CAMERA -->
      <a-entity id="rig">
        
        <a-entity
          camera
          wasd-controls
          look-controls="pointerLockEnabled: true;"
          position="0 1.6 0"
        >
          <a-cursor></a-cursor>
        </a-entity>
      </a-entity>

      <!-- STAGE -->
      <a-entity id="stage">
        <!-- CARD -->
        <a-entity id="first-card" position="0 1.65 -0.5" rotation="0 0 -90" scale="0 0 0" animation="property: scale; to: 1 1 1; delay: 1000; dur: 1000; easing: linear; loop: false">
          <a-entity
            id="first-card-left"
            rotation="0 0 0"
            animation="property: object3D.rotation.y; to: 120; dur: 5000; easing: easeInOutQuad; dir: alternate; loop: false;"
            animation__1="property: object3D.rotation.y; from: 120; to: 110; delay: 5100; dur: 100; easing: easeInOutQuad; dir: alternate; loop: false;"
            animation__2="property: object3D.rotation.y; from: 110; to: 120; delay: 5200; dur: 150; easing: easeInOutQuad; dir: alternate; loop: false;"
            animation__3="property: object3D.rotation.y; from: 120; to: 115; delay: 5350; dur: 200; easing: easeInOutQuad; dir: alternate; loop: false;"
            animation__4="property: object3D.rotation.y; from: 115; to: 120; delay: 5500; dur: 250; easing: easeInOutQuad; dir: alternate; loop: false;"      
          >
            <a-entity
              position="-0.0635 0 0"
              rotation="0 0 0"
              geometry="primitive: plane; height: 0.2032; width: 0.127;"
              material="src: https://cdn.glitch.global/3d3ecbaf-67a2-4d22-b8ec-ad23b8be5288/purple-wave-t.png?v=1672500785629; color: #fff; side: front;"
            ></a-entity>

            <a-entity
              position="-0.0635 0 0"
              geometry="primitive: plane; height: 0.2032; width: 0.127;"
              material="src: https://cdn.glitch.global/84219226-bfa8-4881-9a68-88e43606a2ce/writing-pad-left.png?v=1677456549597; color: #fff; side: back;"
            ></a-entity>
          </a-entity>
          <a-entity
            id="first-card-right' rotation='0 0 -90' position='0.12701 0 0"
            loop="false"
          >
            <a-entity
              position="-0.0635 0 0"
              geometry="primitive: plane; height: 0.2032; width: 0.127;"
              material="src: https://cdn.glitch.global/84219226-bfa8-4881-9a68-88e43606a2ce/writing-pad-left.png?v=1677456549597; color: #fff; side: front;"
            ></a-entity>

            <a-entity
              position="-0.0635 0 0"
              geometry="primitive: plane; height: 0.2032; width: 0.127;"
              material="src: https://cdn.glitch.global/84219226-bfa8-4881-9a68-88e43606a2ce/writing-pad-left.png?v=1677456549597; color: #fff; side: side: back;"
            ></a-entity>
          </a-entity>
        </a-entity>
        <a-troika-text
          id="output"
          position="0.02 1.69 -0.4"
          color="#000"
          max-width="13"
          max-height="50"
          curve-radius="0"
          scale="0 0 0"
          font="https://cdn.glitch.global/3d3ecbaf-67a2-4d22-b8ec-ad23b8be5288/AppleSDGothicNeoM.ttf?v=1671085239370"
          value="        
                  
OOO님을 초대 합니다.
감사합니다.
즐거운 시간 보내세요."
          align="center"
          animation="property: scale; to: 0.05 0.05 0.05; delay: 5000; dur: 100; easing: linear; loop: false"
        >
        </a-troika-text>
        <a-entity
          scale="0.05 0.05 0.05"
          position="-0.03 1.55 -0.2"
          rotation="0 0 0"
          visible="true"
          gltf-model="https://cdn.glitch.global/84219226-bfa8-4881-9a68-88e43606a2ce/stylized_ww1_plane.glb?v=1677799279882"
          shadow="receive: false"
          animation-mixer
          event-set__click="_target: a-entity; visible: true;"
        >
        </a-entity>
        <a-entity
          scale="0.0001 0.0001 0.0001"
          position="0.03 1.57 -0.3"
          rotation="0 0 0"
          visible="true"
          gltf-model="https://cdn.glitch.global/84219226-bfa8-4881-9a68-88e43606a2ce/world-poly.glb?v=1677798262235"
          shadow="receive: false"
          animation-mixer
          animation="property: rotation; to: 0 360 0; dur: 9000; delay: 500; loop: true"
          animation__2="property: scale; to: 0.03 0.03 0.03; dur: 3000; loop: false"
          event-set__click="_target: a-entity; visible: true;"
        >      
        </a-entity>
      </a-entity>
      <a-entity light="type: ambient; intensity: 1.5;"></a-entity>

      <a-light
        type="directional"
        light="castShadow: true; shadowCameraAutomatic:#object;"
        intensity="1.5"
        id="real-light"
        target="selector"
        position="-5 3.6 10"
      >
      </a-light>
    </a-scene>
  </body>
</html>
