<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta
      name="viewport"
      content="user-sclable=no, initial-scale=1, maximum-scale=1, minimum-scale-1, width=device-width"
    />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="google" value="notranslate" />
    <title>AR Image Tracking - ARDOCENT</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no" />

    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="https://ardocent.com/aframe/expo/favicon/ardocent_180x180.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="https://ardocent.com/aframe/expo/favicon/ardocent_32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="https://ardocent.com/aframe/expo/favicon/ardocent_16x16.png"
    />
    <link
      rel="manifest"
      href="https://ardocent.com/aframe/expo/favicon/site.webmanifest"
    />
    <link
      rel="mask-icon"
      href="https://ardocent.com/aframe/expo/favicon/safari-pinned-tab.svg"
      color="#21284d"
    />
    <link
      rel="shortcut icon"
      href="https://ardocent.com/aframe/expo/favicon/ardocent_32x32.png"
    />

    <meta name="msapplication-TileColor" content="#da532c" />
    <meta
      name="msapplication-config"
      content="https://ardocent.com/aframe/expo/favicon/browserconfig.xml"
    />
    <meta name="theme-color" content="#ffffff" />
    <meta name="apple-mobile-web-app-capable" content="yes" />

    <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <!--script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v3.13.1/dist/aframe-extras.min.js"></script-->
    <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://cdn.rawgit.com/ngokevin/kframe/master/components/template/dist/aframe-template-component.min.js"></script>
    <!--script src="https://unpkg.com/aframe-animation-component@^4.1.2/dist/aframe-animation-component.min.js"></script-->

    <script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>
    <script src="https://unpkg.com/aframe-chromakey-material/dist/aframe-chromakey-material.min.js"></script>

    <script src="/cursor.js"></script>
    <script src="/gesture-detector.js"></script>
    <script src="/gesture-handler.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/device-orientation-controls@1.1.0/device-orientation-controls.min.js"></script>
    <!--script src="/click-ani-test.js"></script-->

    <!--script src="/material.js"></script-->
    <!--script src="/event.js"></script-->
    <!--script src="/components.js"></script-->
    <!--script src="/cursor_m.js" defer></script-->
    <!--script src="/vidhandler.js"></script>
    <script src="/ioshandler.js"></script-->
    <!--script src="/mobile-detect.js"></script-->

    <!--script>
      var mobile = /iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(
        navigator.userAgent.toLowerCase()
      );
      var userAgent = navigator.userAgent || navigator.vendor || window.opera;
      var Browser = navigator.userAgent.toLowerCase();
      if (mobile) {
        if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
          if (Browser.indexOf("safari") > 124) {
            if (Browser.indexOf("naver") !== -1) {
              location.href = "ftp://117.52.89.118/pub/milk.html";
            }
            if (self.name != "reload") {
              self.name = "reload";
              self.location.reload(true);
            } else self.name = "";
          } else {
            location.href = "ftp://117.52.89.118/pub/milk.html";
          }
        } else if (Browser.indexOf("chrome") < 90) {
          if (self.name != "reload") {
            self.name = "reload";
            self.location.reload(true);
          } else self.name = "";
        } else {
          location.href =
            "intent://bit.ly/3mPfmG9#Intent;scheme=https;package=com.android.chrome;end";
        }
      } 
  //    else window.location.replace("./smilk-ar_redirect.html");
    </script-->
    <link rel="stylesheet" href="/style.css" />
    <link rel="stylesheet" type="text/css" href="/button.css" />

    <style>
      .arjs-loader {
        height: 100%;
        width: 100%;
        position: absolute;
        top: 0;
        left: 0;
        background-color: rgba(0, 128, 0, 0.5);
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .arjs-loader div {
        text-align: center;
        font-size: 1.25em;
        color: white;
      }
    </style>
  </head>

  <body style="margin : 0px; overflow: hidden;">
    <script>
      AFRAME.registerComponent("clickhandler", {
        init: function() {
          var aEntity = document.querySelector("#animated-model");

          this.el.addEventListener("click", () => {
            aEntity.emit("ani-start");
          });
        }
      });
    </script>
    <script>
      AFRAME.registerComponent("dragndrop", {
        init: function() {
          this.dist = null;
          this.dir = new THREE.Vector3();

          this.scene = this.el.sceneEl;
          this.camera = this.scene.camera.el;

          this.el.addEventListener("mousedown", e => {
            // update the base distance between the cursor to the object
            this.dist = this.el.object3D.position
              .clone()
              .sub(this.camera.object3D.position)
              .length();

            this.dir.copy(this.scene.getAttribute("raycaster").direction);

            this.el.addState("being-dragged");
          });

          document.addEventListener("mousemove", () => {
            // update the direction from raycaster coponent
            this.dir.copy(this.scene.getAttribute("raycaster").direction);
          });

          this.el.addEventListener("click", e => {
            // complete the drag when click completed
            this.el.removeState("being-dragged");
          });
        },
        tick: function() {
          // only move it when certain state is meet
          if (this.el.is("being-dragged")) {
            var target = this.camera.object3D.position
              .clone()
              .add(this.dir.multiplyScalar(this.dist));

            this.el.object3D.copy(target);
          }
        }
      });
    </script>
    <script>
      var extra = 0;
      document.addEventListener("wheel", e => {
        if (e.deltaY > 0) {
          extra += 0.1;
        } else {
          extra -= 0.1;
        }
      });

      // change the distance to base + extra
      var target = camera.object3D.position
        .clone()
        .add(camDir.multiplyScalar(distance + extra));

      this.el.object3D.position.copy(target);
    </script>
    <a-scene
      device-orientation-permission-ui="enabled: false"
      loading-screen="dotsColor: red; backgroundColor: black"
      ar-session-notifier
      cursor-modifier
      vr-mode-ui="enabled: false;"
      renderer="antialias: true; alpha: true; precision: mediump;"
      embedded
      arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
      id="scene"
      gesture-detector
      clickhandler
      raycaster="objects: .clickable"
    >
      <a-assets>
        <img
          id="asset_btn_play"
          src="https://cdn.glitch.com/619ee4d8-9bde-4764-bf3f-288a29bdd7a3%2FPlay_white.png?v=1604976401924"
        />
        <img
          id="xing"
          src="https://cdn.glitch.com/280a3c5f-e7bb-4bd7-b0e0-ce56423406fe%2FVR_button.png?v=1606720374165"
        />
        <img
          id="website"
          src="https://cdn.glitch.com/280a3c5f-e7bb-4bd7-b0e0-ce56423406fe%2Faudioguide_button.png?v=1606720374113"
        />
        <img
          id="ok"
          src="https://cdn.glitch.com/280a3c5f-e7bb-4bd7-b0e0-ce56423406fe%2F%EC%98%A4%EC%BC%80%EC%9D%B4.png?v=1606719305509"
        />
        <img
          id="notice"
          src="https://cdn.glitch.com/280a3c5f-e7bb-4bd7-b0e0-ce56423406fe%2F%EC%95%8C%EB%A6%BC.png?v=1606719308593"
        />
        <img
          id="ios"
          src="https://cdn.glitch.com/0cc78b1e-42e2-4349-b673-734e1c8ddff2%2FPlay_green.png?v=1609109175931"
        />
        <!--video
          src="https://cdn.glitch.com/cb8cb838-9f19-470f-9aca-6e773483a84f%2FShake%20Things%20Up%20a%20Little%20%E2%80%93%20Starbucks%20Spring%202021.mp4?v=1617591862591"
          type="video/mp4"
          preload="auto"
          id="vidnew"
          response-type="arraybuffer"
          crossorigin="anonymous"
          webkit-playsinline
          autoplay
          playsinline
        ></video>
        <video
          src="https://cdn.glitch.com/cb8cb838-9f19-470f-9aca-6e773483a84f%2FThe%20New%20S-Class_%20World%20Premiere%20_%20Trailer.mp4?v=1617673744706"
          type="video/mp4"
          preload="auto"
          id="vid"
          response-type="arraybuffer"
          crossorigin="anonymous"
          webkit-playsinline
          autoplay
          playsinline
        ></video-->

        <!--a-asset-item id="animated-asset" src="https://cdn.glitch.com/cb8cb838-9f19-470f-9aca-6e773483a84f%2Fpneumatic-engined_toy_car.glb?v=1617673319156"></a-asset-item-->

        <!--video id="asset_vid_1" src="https://cors-anywhere.herokuapp.com/https://cdn.glitch.com/6578d377-25ff-42f3-bee7-b9326b505aed%2Fkangaroo.mp4?v=1602679335808" type="video/mp4" preload="auto" response-type="arraybuffer" loop crossorigin webkit-playsinline autoplay playsinline play="false"></video-->
      </a-assets>

      <!--a-nft
        clickhandler
        logohandler
        scannerhandler
        vidhandler
        ioshandler
        emitevents="true"
        id="marker"
        type="nft"
        url="https://raw.githubusercontent.com/toysun/sg/master/imarker/benz-logo"
        smooth="true"
        smoothcount="10"
        moothtolerance="0.01"
        smooththreshold="5"
        raycaster="objects: .clickable"
        cursor="rayOrigin: mouse"
      >
              </a-nft-->
      <!--a-entity
          geometry="primitive: plane; height: 0.2; width: 0.2"
          material="side: double; src:#ios"
          ioshandler
          position="0 0 0"
          rotation="0 0 0"
          id="myFooter"
          class="clickable"
          visible="true"
          onclick="vid.play()"
          event-set__click="_target: a-entity; visible: false;"
          gesture-handler
        >
        </a-entity-->
      <!--a-entity
          geometry="primitive: plane; height: 0.6; width: 1"
          material="shader: chromakey; color: 0.1 0.9 0.2; transparent:true;opacity: 0.9;src:#vid"
          animation="property: rotation; dur: 300; delay: 200; loop: false"
          vidhandler
          position="0 0 -2"
          rotation="0 360 0"
          class="clickable"
          event-set__enter="_event: mousedown"
          gesture-handler
                  scale="0 0 0"
                  animation__scale="property: scale; dir: alternate; dur: 10000;
                           easing: easeInSine; loop: false; to: 1.2 1.2 1.2"
        >
        </a-entity>
        <!--a-video
                  material="shader: chromakey; src: #vid; color: 0.1 0.9 0.2"
                  scale="1 1 1" position="0 0 0" rotation="-90 0 0" class="clickable" gesture-handler
              ></a-video-->
      <!--a-plane
          material="shader:gif; src: url(https://cdn.glitch.com/cb8cb838-9f19-470f-9aca-6e773483a84f%2Fpiston-engine.gif?v=1617671511945); opacity: 1; alphaTest: 0.5; side: double;"
          position="-1 2 -8"
          color="white"
          scale="2 2 2"
          gesture-handler
        ></a-plane>
        <a-plane
          material="shader:gif; src: url(https://cdn.glitch.com/cb8cb838-9f19-470f-9aca-6e773483a84f%2Flogo-benz.gif?v=1617671608057); opacity: 1; alphaTest: 0.5; side: double;"
          position="0 2 -8"
          color="white"
          scale="2 2 2"
          gesture-handler
        ></a-plane-->
      <!--a-plane
          material="shader:gif; src: url(https://cdn.glitch.com/cb8cb838-9f19-470f-9aca-6e773483a84f%2FMWM-motor-geradores-sticker.gif?v=1617671652965); opacity: 1; alphaTest: 0.5; side: double;"
          position="1 2 -8"
          color="white"
          scale="2 2 2"
          gesture-handler
          navigate-on-click="url: https://www.bez.com"
        ></a-plane-->

      <!--a-entity
          id="scene1"
          scale="0.03 0.03 0.03"
          position="0 -1.7 -9"
          rotation="180 0 0"
          gltf-model="https://cdn.glitch.com/cb8cb838-9f19-470f-9aca-6e773483a84f%2Fpneumatic-engined_toy_car.glb?v=1617673319156"
          shadow="receive: true"
          animation-mixer
          gesture-handler
        >
        </a-entity>
         <a-cylinder color="#F55" radius="0.1"
                clickhandler
                animation__yoyo="property: position; dir: alternate; dur: 1000;
                                 easing: easeInSine; loop: true; to: 0 2 0;
                                 startEvents: foo; pauseEvents: bar">
    </a-cylinder-->

      <!--a-entity
                id="animated-model"
                gltf-model="https://cdn.glitch.com/cb8cb838-9f19-470f-9aca-6e773483a84f%2Fpneumatic-engined_toy_car.glb?v=1617673319156"
                scale="0.01 0.01 0.01"
                position="0 -1.7 -9"
                rotation="180 0 0"
                shadow="receive: true"
                animation-mixer
                gesture-handler
                clickhandler>
            </a-entity-->
      <a-entity
        id="animated-model"
        geometry="primitive: box"
        material="color: orange"
        position="1 0 -8"
        scale="0.5 0.5 0.5"
        clickhandler
        gesture-handler
        animation="property: position; from: 1 3 -8; to: 1 0 -8; startEvents: ani-start; dur: 500"
      >
      </a-entity>

      <button class="button" id="mybutton"></button>
      <a-entity camera></a-entity>

      <a-light
        type="directional"
        light="castShadow: true;
                      shadowMapHeight: 1024;
                      shadowMapWidth: 1024;
                      shadowCameraLeft: -7;
                      shadowCameraRight: 5;
                      shadowCameraBottom: -5;
                      shadowCameraTop: 5;"
        id="light"
        target="dino"
        position="5 5 1"
      >
      </a-light>
      <a-light type="ambient" intensity="1.3"></a-light>
      <!--a-plane
        static-body
        position="0 0 -4"
        rotation="-90 0 0"
        width="30"
        height="30"
        color="black"
        material="transparent: true; opacity: 0.2"
      ></a-plane>
      <a-entity id="container"></a-entity>
      <!--a-entity
          id="box"
          geometry="primitive: plane"
          material="color: yellow; side: double; src:#notice"
          position="-0.6 0 -3">
      </a-entity-->
      <!--a-entity
          id="box1"
          geometry="primitive: plane"
          material="color: yellow; side: double; src:#ok"
          position="0.6 0 -3">
      </a-entity-->
    </a-scene>

    <!--script>
    AFRAME.registerComponent('clickhandler', {
        init: function() {
            this.el.addEventListener('click', () => {
              
             var aEntity = document.querySelector("#animated-model");   
             var scale = aEntity.getAttribute("scale");
                var x = scale.x;
                var y = scale.y;
                var z = scale.z;

                Object.keys(scale).forEach(async function(key) { scale.x = x + 0.1;
                                           scale.y = y + 0.1;
                                           scale.z = z + 0.1;
                                          })
                aEntity.setAttribute("scale", scale); 
              
              
     //           alert('Clicked!')
            });
    }});
</script-->

    <!--script>
	  AFRAME.registerComponent('navigate-on-click', {
	    schema: {
	      url: {default: ''}
	    },
	    init: function () {
	      var data = this.data;
	      var el = this.el;
	      el.addEventListener('click', function () {
		window.open(data.url, '_blank');
	      });
	    }
	  });        
	</script-->
    <!--script>

        AFRAME.registerComponent('clickhandler', {
            init: function() {
              this.el.addEventListener('click', () => {
                const gltf = document.querySelector('#animated-model');
                var x = gltf.getAttribute('scale').x;
                var y = gltf.getAttribute('scale').y;
                var z = gltf.getAttribute('scale').z;

                // every click, we make our model grow in size :)
                gltf.addEventListener('click', function(ev, target){
                    console.log(gltf.getAttribute('scale'));
                    gltf.setAttribute('scale', x + " " + y + " "+ z);
                    x += 0.1;
                    y += 0.1;
                    z += 0.1;
                });
            }
        });
    </script-->
    <!--script>
    AFRAME.registerComponent("markerhandler", {
        init: function () {
            const animatedMarker = document.querySelector("#animated-marker");
            var toggle= false;
            animatedMarker.addEventListener('click', function (ev, target) {
                console.log('click event on #animated-marker fired')
                toggle=-toggle;
                const element = document.querySelector("#show-hide-entity");
                element.setAttribute('visible',toggle);
            })
        }
    })
</script-->

    <!--script type="text/javascript" src="./modal_button.js"></script>
    <script type="text/javascript" src="./modal_active.js"></script-->

    <!--script src="./script-sunsa.js"></script-->
    <!--div class="footer">
      <div class="row" id="myFooter">
        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 pull-left">
          <div class="onebleft">
            <button onclick="vid.play()" class="btn btnskips">Play</button>
          </div>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 pull-right">
          <div class="onebright">
            <button onclick="vid.pause()" class="btn btnskips">Pause</button>
          </div>
        </div>
      </div>
    </div-->
  </body>
</html>
