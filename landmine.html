<html>
  <head>
    <title>AR Image Tracking - ARDOCENT</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, user-scalable=no" />

    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="https://ardocent.com/aframe/expo/favicon/ardocent_180x180.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="https://ardocent.com/aframe/expo/favicon/ardocent_32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="https://ardocent.com/aframe/expo/favicon/ardocent_16x16.png"
    />
    <link
      rel="manifest"
      href="https://ardocent.com/aframe/expo/favicon/site.webmanifest"
    />
    <link
      rel="mask-icon"
      href="https://ardocent.com/aframe/expo/favicon/safari-pinned-tab.svg"
      color="#21284d"
    />
    <link
      rel="shortcut icon"
      href="https://ardocent.com/aframe/expo/favicon/ardocent_32x32.png"
    />

    <meta name="msapplication-TileColor" content="#da532c" />
    <meta
      name="msapplication-config"
      content="https://ardocent.com/aframe/expo/favicon/browserconfig.xml"
    />
    <meta name="theme-color" content="#ffffff" />
    <meta name="apple-mobile-web-app-capable" content="yes" />

    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <!--script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v3.13.1/dist/aframe-extras.min.js"></script-->
    <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v6.1.1/dist/aframe-extras.min.js"></script>
    <!--script src="https://cdn.rawgit.com/ngokevin/kframe/master/components/template/dist/aframe-template-component.min.js"></script-->

    <script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>
    <script src="https://unpkg.com/aframe-chromakey-material/dist/aframe-chromakey-material.min.js"></script>

    <script src="/gesture-detector.js"></script>
    <script src="/gesture-handler.js"></script>
     
    
    
    <!--script src="/material.js"></script>
    <script src="/event.js"></script-->
    <!--script src="/components.js"></script-->
    <script src="/cursor_m.js" defer></script>
    <script src="/vidhandler.js"></script>
    <script src="/ioshandler.js"></script>
    <script src="/mobile-detect.js"></script>
    <script src="https://unpkg.com/aframe-text-geometry-component@^0.5.0/dist/aframe-text-geometry-component.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"></script>
    <script src="https://unpkg.com/merge-images"></script>
    <script src="https://cdn.rawgit.com/ngokevin/kframe/master/components/template/dist/aframe-template-component.min.js"></script>

    <!--script>
      var mobile = (/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase()));
      var userAgent = navigator.userAgent || navigator.vendor || window.opera;
      var Browser = navigator.userAgent.toLowerCase();
      if (mobile) {
        if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
          if (Browser.indexOf("safari") > 124) {
                      if(Browser.indexOf("naver") !== -1) {
                        location.href='ftp://117.52.89.118/pub/milk.html';	 
                      }
                      if (self.name != 'reload') {
                           self.name = 'reload';
                           self.location.reload(true);
                      }
                          else self.name = '';  
          } else {
            location.href = "ftp://117.52.89.118/pub/milk.html";
          }
        } else if (Browser.indexOf("chrome") < 90) {
                         if (self.name != 'reload') {
                             self.name = 'reload';
                             self.location.reload(true);
                          }
                          else self.name = '';  
        } else {
          location.href =
            "intent://bit.ly/3mPfmG9#Intent;scheme=https;package=com.android.chrome;end";
        }
      } else window.location.replace("./smilk-ar_redirect.html");
    </script-->
    <link rel="stylesheet" href="/style.css" />
    <link rel="stylesheet" type="text/css" href="/button.css" />
    
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="/av_style.css">
    <link rel="stylesheet" href="/capture_style.css">
    <link rel="stylesheet" href="/AudioPlayer.css">

    <style>
      .arjs-loader {
        height: 100%;
        width: 100%;
        position: absolute;
        top: 0;
        left: 0;
        background-color: rgba(71, 95, 215, 1);
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .arjs-loader div {
        text-align: center;
        font-size: 1.25em;
        color: white;
      }
    </style>
  </head>

  <body style="margin : 0px; overflow: hidden;">
    <div class="scannerWrapper">
      <input
        id="scanner"
        type="image"
        class="scannerImage"
        src="https://cdn.glitch.com/cb8cb838-9f19-470f-9aca-6e773483a84f%2FScanner_mini_white.png?v=1617591526789"
      />
    </div>

    <div class="arjs-loader">
      <div>
        <p>이미지 인식중입니다.</p>
        <p>잠시만 기다려 주세요.</p>
      </div>
    </div>

    <!-- The Modal -->
    <!--div id="myModal" class="modal" align="center">
      <!-- Modal content -->
      <!--div class="modal-content">
        <!--a href="http://www.naver.com"
          ><img
            src="https://cdn.glitch.com/c3e964aa-a822-4b2c-877a-b97e2fbfd390%2Fbtn_event.png?v=1609043885788"
            width="232px"
            height="65px"
            style="vertical-align:middle; margin:130% 10%"
        /></a-->
      <!--a href="https://promotion.seoulmilk.co.kr:446/event/20201231_na100ar/"
          ><img
            src="https://cdn.glitch.com/c3e964aa-a822-4b2c-877a-b97e2fbfd390%2Fbtn_event.png?v=1609043885788"
            width="232px"
            height="65px"
            style="margin:80% 10%"
        /></a>
      </div-->
      <!--span
        class="closebtn"
        onclick="document.getElementById('myModal').style.display='none'"
        ><img
          src="https://cdn.glitch.com/c3e964aa-a822-4b2c-877a-b97e2fbfd390%2FActions-window-close-icon.png?v=1609053240485"
          width="50px"
          height="50px"
      /></span>
    </div-->
    
    <button class="Videobutton" id="MyVideoBtn"><i class="fa fa-video"></i></button>
    <button class="AudioButton" id="MyAudioBtn"><i class="fa fa-play"></i></button>
    <button class="CaptureButton" id="MyCaptureBtn"><i class="fa fa-camera"></i></button>
    
    <div id="MyVideo" class="VideoModal">
       <!--div class="Video-content"-->
       <span class="VideoClose">&times;</span>
         <div class="VideoWindow">
           <iframe title="A 3D model" align="center" width="360" height="280" src="https://cdn.glitch.com/cb8cb838-9f19-470f-9aca-6e773483a84f%2Fm14-landmine.mp4?v=1623282502644" sandbox></iframe>
           <!--p style="font-size: 13px; font-weight: normal; margin: 5px; color: #4A4A4A;"></p-->
          </div>
         <p>M14 대인 지뢰</p>
 
      <!--/div-->
    </div>

    <div id="MyAudio" class="AudioModal">
      <div class="Audio-content">
        <span class="AudioClose">&times;</span>
        <div id="player"></div>
        <h2>《M14 대인 지뢰》</h2>
        <div class="box">
          <img src="https://cdn.glitch.com/cb8cb838-9f19-470f-9aca-6e773483a84f%2FM14.jpg?v=1623282936765" alt="Starry Night">
        </div>
        <br>
        <div><p>M14 지뢰는 1955년 미국에서 개발한 지뢰이다. 대한민국에서는 1970년부터 미국의 원조를 받아 DMZ일원과 후방 방공기지 울타리에 설치하였다. 대한민국에는 DMZ와 후방방공기지 등에 약 40만 발을 매설하여 놓았다. 2010년 현재 미군은 유사시 한국에서 사용하기 위해 150만개를 보유중이다.</p>
               <br>
	   <p>M14 지뢰는 폭발할 경우 적군을 현장에서 바로 죽이지는 못하지만, 접촉부위 신체를 손상시켜방치할 경우 출혈로 사망하기 때문에 전쟁 중 전우가 지뢰를 밟아 부상을 입을 경우 후송을 하기위해 동료 병사 2명 이상이 부축하여 이동하게 된다. 전투를 지연시키는데 효율적이다.</p>
	   <br>
	   <p>M14대인지뢰는 재질이 플라스틱으로 매우 작고 가벼워 폭우가 내리면 빗물을 따라 높은 곳에서 낮은 곳으로 이동하기 때문에 세월이 흐르면 매설범위가 넓어지고 탐지 제거가 어렵다. 그러나 작고 가벼워 전시 및 반군들이 다량을 휴대하고 작전할 수 있다. 일단 한 명이 쓰러지면, 전체 부대가 지뢰밭에 들어왔다는 의미이기 때문에, 극도로 공포에 휩싸이며, 앞으로 전진도 못하고 후퇴도 못하는 상황에 처한다.</p>
	   <br>
	   <p>부대 전체가 지뢰밭 한가운데 위치했을 경우, 부상자는 헬기로 공중에서 들어올려야만 후송할 수 있으며, 장거리 대형 헬기는 강력한 바람으로 주변의 지뢰가 날라다니며 폭발할 수 있어서, 소형 헬기여야만 부상자를 후송할 수 있다.</p>
	   <br>
	   <p>인도와 베트남이 M14 지뢰를 카피해서 사용중이다. 미얀마는 라이센스 없이 무단 복제해서 국내용으로 사용중이다.</p>
	   <br>
	   <p>한국군의 K413 세열수류탄의 무게가 260g인데, M14 지뢰는 100g 밖에 안된다.</p>
        </div>
      </div>
    </div>

    <a-scene
      device-orientation-permission-ui="enabled: false"
      loading-screen="dotsColor: red; backgroundColor: black"
      ar-session-notifier
      cursor-modifier
      raycaster="objects: .clickable"
      vr-mode-ui="enabled: false;"
      renderer="antialias: true; alpha: true; precision: mediump;"
      embedded
      arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
      id="scene"
      gesture-detector
    >

      <a-assets>
        <!--img
          id="asset_btn_play"
          src="https://cdn.glitch.com/619ee4d8-9bde-4764-bf3f-288a29bdd7a3%2FPlay_white.png?v=1604976401924"
        />
        <img
          id="xing"
          src="https://cdn.glitch.com/280a3c5f-e7bb-4bd7-b0e0-ce56423406fe%2FVR_button.png?v=1606720374165"
        />
        <img
          id="website"
          src="https://cdn.glitch.com/280a3c5f-e7bb-4bd7-b0e0-ce56423406fe%2Faudioguide_button.png?v=1606720374113"
        />
        <img
          id="ok"
          src="https://cdn.glitch.com/280a3c5f-e7bb-4bd7-b0e0-ce56423406fe%2F%EC%98%A4%EC%BC%80%EC%9D%B4.png?v=1606719305509"
        />
        <img
          id="notice"
          src="https://cdn.glitch.com/280a3c5f-e7bb-4bd7-b0e0-ce56423406fe%2F%EC%95%8C%EB%A6%BC.png?v=1606719308593"
        /-->
        <img
          id="ios"
          src="https://cdn.glitch.com/0cc78b1e-42e2-4349-b673-734e1c8ddff2%2FPlay_green.png?v=1609109175931"
        />
        <video
          src="https://cdn.glitch.com/cb8cb838-9f19-470f-9aca-6e773483a84f%2FExplosion%20Green%20Screen%20Effects%20_%20Patlama%20Green%20Screen%20Efektleri.mp4?v=1623292770101"
          type="video/mp4"
          preload="auto"
          id="vid"
          response-type="arraybuffer"
          crossorigin="anonymous"
          webkit-playsinline
          autoplay
          playsinline
        ></video>
        <!--video
          src="https://cdn.glitch.com/cb8cb838-9f19-470f-9aca-6e773483a84f%2FBomb%20Explosion%20on%20Green%20Screen%20-%20FREE%20STOCK%20FOOTAGE%20VIDEO%20%5BHD%5D.mp4?v=1623248413398"
          type="video/mp4"
          preload="auto"
          id="vid1"
          response-type="arraybuffer"
          crossorigin="anonymous"
          webkit-playsinline
          autoplay
          playsinline
        ></video-->

        <!--video id="asset_vid_1" src="https://cors-anywhere.herokuapp.com/https://cdn.glitch.com/6578d377-25ff-42f3-bee7-b9326b505aed%2Fkangaroo.mp4?v=1602679335808" type="video/mp4" preload="auto" response-type="arraybuffer" loop crossorigin webkit-playsinline autoplay playsinline play="false"></video-->
      </a-assets>
      <a-text
        value="AR-Docent는 다양한 공간에 
               제약없는 증강현실 서비스를 제공합니다."
        color="#FFFFFF"
        shader="msdf"
        font="https://raw.githubusercontent.com/myso-kr/aframe-fonts-korean/master/fonts/ofl/nanumpenscript/NanumPenScript-Regular.json"
        scale="1 1 1"
        position="-2.5 3.8 -12"
        audiohandler
      ></a-text>
      <a-entity
        position="0 -7 -15"
        particle-system="preset: star; accelerationValue:0 -20 0; texture: https://cdn.glitch.com/cb8cb838-9f19-470f-9aca-6e773483a84f%2Fbomb.png?v=1623258801906; size: 5; particleCount:50; color: #FFFFFF; direction:-2; rotationAxis:z; rotation: -90 0 0"
      ></a-entity>
      <a-nft
        raycaster="objects: .clickable"
        logohandler
        scannerhandler
        vidhandler
        ioshandler
        emitevents="true"
        id="marker"
        type="nft"
        url="https://arjs-cors-proxy.herokuapp.com/https://raw.githubusercontent.com/toysun/sg/master/imarker/m14"
        smooth="true"
        smoothcount="10"
        moothtolerance="0.01"
        smooththreshold="5"
      >
  
      <a-text
        value="M14 대인지뢰 
               - DMZ박물관"
        color="#FFFFFF"
        shader="msdf"
        font="https://raw.githubusercontent.com/myso-kr/aframe-fonts-korean/master/fonts/ofl/nanumpenscript/NanumPenScript-Regular.json"
        scale="2 2 2"
        position="-2.5 3.8 -12"
        audiohandler
      ></a-text>
        <a-entity
          geometry="primitive: plane; height: 0.2; width: 0.2"
          material="side: double; src:#ios"
          ioshandler
          position="0 0 0"
          rotation="0 0 0"
          id="myFooter"
          class="clickable"
          visible="true"
          onclick="vid.play()"
          event-set__click="_target: a-entity; visible: false;"
          gesture-handler
        >
        </a-entity>
        <a-entity
          geometry="primitive: plane; height: 0.6; width: 1"
          material="shader: chromakey; color: 0.1 0.9 0.2; transparent:true;opacity: 0.9; src:#vid"
          animation="property: rotation; dur: 300; delay: 100; loop: false"
          vidhandler
          position="0 0.1 -2"
          rotation="0 360 0"
          class="clickable"
          event-set__enter="_event: mousedown"
          gesture-handler
        >
        </a-entity>
        
        <!--a-video
                  material="shader: chromakey; src: #vid; color: 0.1 0.9 0.2"
                  scale="1 1 1" position="0 0 0" rotation="-90 0 0" class="clickable" gesture-handler
              ></a-video-->
        <!--a-plane
        material="shader:gif; src: url(https://media.giphy.com/media/NSz5OoH7YF8snYSYSL/source.gif); opacity: 1; alphaTest: 0.5; side: double;"
        position="-1 2 -8"
        color="white"
        scale="2 2 2"
                 gesture-handler
      ></a-plane>
      <a-plane
        material="shader:gif; src: url(https://cdn.glitch.com/cb8cb838-9f19-470f-9aca-6e773483a84f%2Flogo-benz.gif?v=1617671608057); opacity: 1; alphaTest: 0.5; side: double;"
        position="0 2 -8"
        color="white"
        scale="2 2 2" 
               gesture-handler
      ></a-plane>
      <a-plane
        material="shader:gif; src: url(https://cdn.glitch.com/cb8cb838-9f19-470f-9aca-6e773483a84f%2FMWM-motor-geradores-sticker.gif?v=1617671652965); opacity: 1; alphaTest: 0.5; side: double;"
        position="1 2 -8"
        color="white"
        scale="2 2 2" 
               gesture-handler
      ></a-plane-->
        

      <!--a-entity
        id="scene1"
        scale="0.2 0.2 0.2"
        position="0 -2.2 -9"
        rotation="180 0 0"
        gltf-model="https://cdn.glitch.com/cb8cb838-9f19-470f-9aca-6e773483a84f%2Fearth-round.glb?v=1619591354139"
        shadow="receive: true"
        animation-mixer
        gesture-handler
      >
      </a-entity-->
      <a-entity
        id="scene2"
        scale="0.8 0.8 0.8"
        position="0 4.7 -9"
        rotation="180 0 0"
        gltf-model="https://cdn.glitch.com/cb8cb838-9f19-470f-9aca-6e773483a84f%2Fexplosion.glb?v=1623310020296"
        shadow="receive: true"
        animation-mixer
        gesture-handler
      >
      </a-entity>

        <button class="button" id="mybutton"></button>
        <a-entity camera></a-entity>
      </a-nft>
      <a-light
        type="directional"
        light="castShadow: true;
                      shadowMapHeight: 1024;
                      shadowMapWidth: 1024;
                      shadowCameraLeft: -7;
                      shadowCameraRight: 5;
                      shadowCameraBottom: -5;
                      shadowCameraTop: 5;"
        id="light"
        target="dino"
        position="5 5 1"
      >
      </a-light>
      <a-light type="ambient" intensity="1.3"></a-light>
      <!--a-plane
        static-body
        position="0 0 -4"
        rotation="-90 0 0"
        width="30"
        height="30"
        color="black"
        material="transparent: true; opacity: 0.2"
      ></a-plane>
      <a-entity id="container"></a-entity>
      <!--a-entity
          id="box"
          geometry="primitive: plane"
          material="color: yellow; side: double; src:#notice"
          position="-0.6 0 -3">
      </a-entity-->
      <!--a-entity
          id="box1"
          geometry="primitive: plane"
          material="color: yellow; side: double; src:#ok"
          position="0.6 0 -3">
      </a-entity-->
    </a-scene>

    <!--script type="text/javascript" src="./modal_button.js"></script>
    <script type="text/javascript" src="./modal_active.js"></script-->

    <!--script src="./script-sunsa.js"></script-->
    <!--div class="footer">
      <div class="row" id="myFooter">
        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 pull-left">
          <div class="onebleft">
            <button onclick="vid.play()" class="btn btnskips">Play</button>
          </div>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 pull-right">
          <div class="onebright">
            <button onclick="vid.pause()" class="btn btnskips">Pause</button>
          </div>
        </div>
      </div>
    </div-->
       <div id="MyCapture" class="CaptureModal">
      <div class="hfc">
        <span class="CaptureClose">&times;</span>
        <img class="Capture-content" id="img01">
        <div id="caption"></div>
      </div>
    </div>

   <script language="javascript" type="text/javascript">
    $(function(){
       $('.VideoClose').click(function(){
          $('iframe').attr('src', $('iframe').attr('src'));
       });
    });

   </script>
    
    <script type="text/javascript" src="/video_modal.js"></script>
    <script type="text/javascript" src="/AudioPlayer.js"></script>
    <script type="text/javascript" src="/audio_modal_1.js"></script>
    <script type="text/javascript" src="/capture_image.js"></script>
  </body>
</html>
